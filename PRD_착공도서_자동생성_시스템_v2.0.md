# PRD: 착공도서 자동생성 시스템 v2.0

## 📋 문서 정보
- **프로젝트명**: 착공도서 자동생성 시스템
- **버전**: v2.0
- **작성일**: 2025-09-26
- **상태**: Draft

## 🎯 제품 개요

### 문제 정의
인테리어 업계에서 착공도서 작성은 수동적이고 시간 소모적인 프로세스입니다. 자재표 엑셀 파일, 장면 이미지, 미니맵을 각각 별도로 관리하며 PowerPoint로 수동 조합하는 과정에서 다음과 같은 문제가 발생합니다:

- **시간 소모**: 수동 문서 작성으로 인한 높은 시간 비용
- **일관성 부족**: 프로젝트마다 다른 형태의 문서 스타일
- **오류 발생**: 수동 입력으로 인한 자재 정보 불일치
- **공정 관리 어려움**: 단계별 진행사항 추적의 복잡성

### 솔루션
자재표, 이미지, 위치 정보를 자동으로 통합하여 표준화된 PowerPoint 착공도서를 생성하는 웹 애플리케이션

### 주요 가치 제안
1. **자동화**: 파일 업로드만으로 전문적인 착공도서 생성
2. **공정 관리**: 단계별 작업 진행사항을 체계적으로 관리
3. **시각적 자재 배치**: 드래그앤드랍으로 직관적인 자재 위치 지정
4. **표준화**: 일관성 있는 문서 형태로 품질 향상

## 👥 타겟 사용자

### Primary User: 인테리어 설계사/현장 관리자
- **니즈**: 신속하고 정확한 착공도서 작성
- **페인포인트**: 반복적인 수동 작업, 자료 정리의 번거로움
- **기대 효과**: 작업 시간 70% 단축, 오류 최소화

### Secondary User: 인테리어 회사 관리자
- **니즈**: 프로젝트 품질 관리 및 표준화
- **페인포인트**: 직원별 문서 품질 편차
- **기대 효과**: 일관된 품질의 결과물, 고객 만족도 향상

## 📖 사용자 스토리

### Epic 1: 파일 관리 및 업로드
- **US-001**: 사용자로서 엑셀 자재표를 업로드하여 자재 정보를 자동으로 파싱하고 싶다
- **US-002**: 사용자로서 미니맵 이미지를 업로드하여 전체 공간 맥락을 제공하고 싶다
- **US-003**: 사용자로서 다중 장면 이미지를 한번에 업로드하여 효율적으로 관리하고 싶다

### Epic 2: 공정 관리
- **US-004**: 사용자로서 공정을 단계별로 나누어 체계적으로 작업을 관리하고 싶다
- **US-005**: 사용자로서 각 공정에 포함될 장면을 선택하여 단계별 문서를 구성하고 싶다
- **US-006**: 사용자로서 공정 간 전환을 통해 다양한 작업 단계를 병행하고 싶다

### Epic 3: 자재 배치 및 매핑
- **US-007**: 사용자로서 장면 이미지에 자재를 드래그앤드랍으로 배치하여 직관적으로 위치를 지정하고 싶다
- **US-008**: 사용자로서 배치된 자재에 번호를 자동 할당하여 참조하기 쉽게 하고 싶다
- **US-009**: 사용자로서 자재와 장면의 매핑 관계를 체크박스로 간편하게 설정하고 싶다

### Epic 4: 문서 생성 및 출력
- **US-010**: 사용자로서 설정된 모든 정보를 PowerPoint 형태로 자동 생성하고 싶다
- **US-011**: 사용자로서 생성 전 미리보기로 결과를 확인하고 싶다
- **US-012**: 사용자로서 공정별로 구조화된 슬라이드를 포함한 완성된 문서를 다운로드하고 싶다

## 🔄 사용자 플로우

### 전체 워크플로우
```
1단계: 파일 업로드 → 2단계: 공정 관리 → 3단계: 매칭 & 배치 → 4단계: 생성 & 다운로드
```

### 상세 플로우

#### 1단계: 파일 업로드
1. 사용자가 웹앱에 접속
2. 엑셀 파일(.xlsx/.xls) 업로드
3. 미니맵 이미지 업로드
4. 장면 이미지들 다중 선택 업로드
5. 시스템이 파일들을 파싱하고 검증

#### 2단계: 공정 관리 🆕
1. 기본 "공정1" 탭이 생성됨
2. 사용자가 필요시 "+" 버튼으로 추가 공정 생성
3. 각 공정별로 포함할 장면 이미지 선택 (체크박스)
4. 공정 탭 클릭으로 전환 가능

#### 3단계: 매칭 & 자재 배치
1. **장면 선택**: 현재 공정의 장면 중 작업할 장면 선택
2. **자재 매핑**: 체크박스로 장면에 사용될 자재 선택
3. **미니맵 위치**: 드래그로 장면의 위치 박스 그리기
4. **🆕 자재 배치**:
   - 자재 테이블에서 자재를 드래그
   - 장면 이미지 위에 드랍하여 위치 지정
   - 자동으로 번호 뱃지(1,2,3...) 생성
   - 뱃지 클릭시 자재 정보 확인

#### 4단계: 생성 & 다운로드
1. 미리보기에서 생성될 슬라이드 확인
2. "PPT 생성" 버튼 클릭
3. 시스템이 공정별 섹션이 포함된 PowerPoint 생성
4. PPTX 파일 자동 다운로드

## ⚙️ 핵심 기능 명세

### F001: 파일 업로드 시스템
- **입력 형식**:
  - 엑셀: .xlsx, .xls
  - 이미지: .jpg, .png, .gif
- **파싱 엔진**: SheetJS 기반 엑셀 데이터 추출
- **검증**: 파일 형식, 크기, 필수 데이터 존재 여부

### F002: 공정 관리 시스템 🆕
- **공정 생성**: 동적 탭 생성 ("공정1", "공정2"...)
- **장면 할당**: 각 공정별 독립적인 장면 선택
- **상태 격리**: 공정별 데이터 독립성 보장

### F003: 드래그앤드랍 자재 배치 🆕
- **드래그 소스**: 자재 테이블의 각 자재 행
- **드랍 타겟**: 장면 이미지 영역
- **좌표 시스템**: 정규화된 상대 좌표 (0~1)
- **번호 할당**: 자동 증가 번호 시스템
- **상호작용**:
  - 뱃지 드래그로 위치 수정
  - 우클릭으로 삭제
  - 클릭으로 자재 정보 표시

### F004: 지능형 엑셀 파싱
- **다중 시트 지원**: 시트명 우선순위 탐지
- **유연한 헤더**: 40행 내 키워드 기반 탐색
- **이미지 URL 추출**: data:, http(s):, HYPERLINK 형태 지원
- **폴백 전략**: 누락 데이터에 대한 대체 값 제공

### F005: PowerPoint 자동 생성
- **레이아웃**: 16:9 비율, 표준화된 슬라이드 템플릿
- **공정별 구조**: 섹션 헤더 + 장면별 슬라이드
- **이미지 합성**: Canvas API로 번호 뱃지가 포함된 장면 이미지
- **테이블 생성**: 자재 정보 + 위치 번호 컬럼

## 🛠 기술 요구사항

### 아키텍처
- **타입**: 프론트엔드 전용 SPA (Single Page Application)
- **배포**: 정적 웹사이트 호스팅 (Vercel)
- **데이터 저장**: 클라이언트 메모리 (세션 기반, 서버 불필요)

### 기술 스택
- **코어**: HTML5, CSS3, JavaScript (ES5 호환)
- **라이브러리**:
  - SheetJS (xlsx.full.min.js) - 엑셀 파싱
  - PptxGenJS - PowerPoint 생성
- **API**: Canvas API, File API, Drag and Drop API

### 브라우저 호환성
- **최소 요구사항**: IE11+, Chrome 60+, Firefox 55+, Safari 12+
- **권장 환경**: 모던 브라우저 (Chrome, Firefox, Safari, Edge 최신 버전)

### 성능 요구사항
- **파일 처리**: 최대 10MB 엑셀 파일, 50MB 이미지 파일 지원
- **응답 시간**: 파일 업로드 후 5초 내 파싱 완료
- **PPT 생성**: 20개 장면 기준 30초 내 생성 완료
- **메모리 사용**: 브라우저 메모리 500MB 이하 유지

### 보안 요구사항
- **클라이언트 사이드**: 모든 처리가 사용자 브라우저에서 실행
- **데이터 보안**: 파일이 서버로 전송되지 않음 (완전한 오프라인 처리)
- **XSS 방지**: 사용자 입력 데이터 검증 및 sanitization

## 🚫 제약사항

### 기술적 제약사항
- **서버리스**: 백엔드 서버 및 데이터베이스 사용 불가
- **브라우저 종속**: 클라이언트 컴퓨팅 파워에 의존
- **메모리 제한**: 대용량 파일 처리 시 브라우저 메모리 한계
- **네트워크**: 외부 이미지 URL 접근 시 CORS 정책 제약

### 기능적 제약사항
- **동시 사용자**: 개별 세션 독립적, 협업 기능 없음
- **데이터 영속성**: 새로고침 시 모든 데이터 초기화
- **파일 형식**: 지정된 형식 외 파일 지원 불가
- **언어**: 한국어 우선, 다국어 지원 제한적

### 비즈니스 제약사항
- **무료 사용**: 상용 라이선스 비용 발생 라이브러리 사용 불가
- **오프라인**: 인터넷 연결 없이도 동작해야 함
- **단일 프로젝트**: 세션 당 하나의 프로젝트만 처리 가능

## 📊 성공 지표

### 핵심 성과 지표 (KPI)

#### 효율성 지표
- **작업 시간 단축**: 기존 대비 70% 시간 절약 달성
- **오류 감소율**: 수동 입력 오류 90% 감소
- **문서 생성 속도**: 평균 5분 내 완성된 PPT 생성

#### 사용자 만족도 지표
- **완료율**: 전체 워크플로우 완주 사용자 85% 이상
- **재사용률**: 동일 사용자의 7일 내 재방문 60% 이상
- **추천 의향**: NPS(Net Promoter Score) 8점 이상

#### 품질 지표
- **파싱 정확도**: 엑셀 자재 정보 95% 이상 정확 추출
- **이미지 처리 성공률**: 업로드된 이미지 98% 이상 정상 처리
- **PPT 생성 성공률**: 오류 없는 문서 생성 95% 이상

### 검증 기준

#### 기능 검증
1. **파일 업로드**: 다양한 엑셀 형태 및 이미지 형식 테스트
2. **공정 관리**: 최소 5개 공정, 각 10개 장면까지 처리 검증
3. **자재 배치**: 장면당 최대 50개 자재 배치 정상 동작 확인
4. **PPT 생성**: 다양한 데이터 조합으로 문서 생성 안정성 검증

#### 성능 검증
1. **로딩 시간**: 초기 페이지 로드 3초 이내
2. **파일 처리**: 10MB 엑셀 파일 5초 내 파싱
3. **메모리 사용량**: 브라우저 탭당 500MB 이하 유지
4. **응답성**: 사용자 액션 후 1초 내 UI 반응

#### 호환성 검증
1. **브라우저**: Chrome, Firefox, Safari, Edge 최신 버전 정상 동작
2. **운영체제**: Windows, macOS, Linux 환경 테스트
3. **해상도**: 1024x768 ~ 4K 해상도 반응형 지원
4. **파일 형식**: 다양한 엑셀 및 이미지 형식 호환성 확인

## 📋 인수 기준

### Must Have (필수 기능)
- ✅ 엑셀 파일 업로드 및 자재 정보 파싱
- ✅ 이미지 업로드 (미니맵 + 장면 이미지)
- ✅ 공정별 장면 관리 시스템
- ✅ 드래그앤드랍 자재 배치 기능
- ✅ 자재 번호 뱃지 자동 생성
- ✅ PowerPoint 문서 자동 생성 및 다운로드

### Should Have (중요 기능)
- ✅ 미니맵 위치 박스 그리기
- ✅ 자재 필터링 (시트별)
- ✅ 미리보기 기능
- ✅ 오류 처리 및 사용자 안내
- ✅ 반응형 UI 지원

### Could Have (선택 기능)
- ⚪ 다국어 지원 (영문)
- ⚪ 테마/템플릿 선택
- ⚪ 키보드 단축키
- ⚪ 작업 진행률 표시

### Won't Have (제외 기능)
- ❌ 서버 기반 데이터 저장
- ❌ 사용자 계정 시스템
- ❌ 협업 기능
- ❌ 모바일 앱 지원

## 🚀 출시 계획

### 개발 단계별 목표

#### Phase 1: 기반 구축 (2주)
- 기본 파일 업로드 시스템 구축
- 엑셀 파싱 엔진 구현
- 기본 UI/UX 프레임워크 설정

#### Phase 2: 핵심 기능 개발 (3주)
- 공정 관리 시스템 구현
- 드래그앤드랍 자재 배치 기능
- 미니맵 위치 지정 기능

#### Phase 3: 통합 및 최적화 (2주)
- PowerPoint 생성 엔진 통합
- 성능 최적화 및 오류 처리
- 브라우저 호환성 테스트

#### Phase 4: 테스트 및 배포 (1주)
- 사용자 테스트 및 피드백 수집
- 버그 수정 및 안정화
- Vercel 배포 및 모니터링 설정

### 위험 요소 및 완화 계획

#### 기술적 위험
- **위험**: 브라우저 메모리 제한으로 인한 성능 저하
- **완화**: 점진적 이미지 로딩, 메모리 해제 최적화

#### 사용자 경험 위험
- **위험**: 복잡한 워크플로우로 인한 사용자 이탈
- **완화**: 단계별 가이드, 진행률 표시, 저장/복원 기능

#### 데이터 처리 위험
- **위험**: 다양한 엑셀 형태로 인한 파싱 실패
- **완화**: 포괄적 테스트 케이스, 폴백 메커니즘

---

## 📝 결론

본 PRD는 인테리어 착공도서 자동생성 시스템 v2.0의 완전한 제품 요구사항을 정의합니다. 새롭게 추가된 공정 관리 시스템과 드래그앤드랍 자재 배치 기능을 통해 기존 대비 사용자 경험과 작업 효율성을 크게 향상시킬 것으로 기대됩니다.

성공적인 출시를 위해서는 단계적 개발 접근과 지속적인 사용자 피드백 수집이 핵심입니다. 특히 브라우저 기반의 제약사항을 극복하면서도 전문적인 품질의 결과물을 제공하는 것이 프로젝트의 핵심 과제입니다.

**승인자**: [프로젝트 매니저/제품 책임자]
**검토자**: [개발팀 리드/UX 디자이너]
**최종 승인일**: [날짜]